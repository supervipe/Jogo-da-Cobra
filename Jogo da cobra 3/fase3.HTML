<canvas id="tela" width="600" height="600"> <script type="text/javascript"  charset="UTF-8"></script></canvas>
<body onload = "start();"> 
</body> 


	<div id = "tempo" align=center></div> 


<audio src="music2.wav" id="sound"></audio>
<audio src="music.mp3" id="bgm"></audio>
<audio src="robloxDeath.mp3" id="bb"></audio>
<audio src="tetrisMusic.mp3" id="2"></audio>
<audio src="insanePsytranceDrops.mp3" id="3"></audio>

<script>

var level = prompt("Qual o level?")

var tela;
var c;
var sound = document.getElementById('sound')
var bgm = document.getElementById('bgm')
var bb = document.getElementById('bb')
var nivel2 = document.getElementById('2')
var nivel3 = document.getElementById('3')
var cabeca;
var maca;
var bola;

var pontos;
var maca_x;
var maca_y;
var count = new Number (); 
var count = 50
var paraEsquerda = false;
var paraDireita = true;
var paraCima = false;
var paraBaixo = false;
var noJogo = true;    
var finalmentecabamos = 0

const TAMANHO_PONTO = 10;
const ALEATORIO_MAXIMO = 60;
const ATRASO = 80;
const C_ALTURA = 600;
const C_LARGURA = 600;    

const TECLA_ESQUERDA = 37;
const TECLA_DIREITA = 39;
const TECLA_ACIMA = 38;
const TECLA_ABAIXO = 40;

var x = [];
var y = [];

if (level == 1) {

iniciar();



function iniciar() {
    tela = document.getElementById("tela");
    c = tela.getContext("2d");

	c.fillStyle = "black";
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
    carregarImagens();
    criarCobra();
    localizarMaca();
    setTimeout("cicloDeJogo()", ATRASO);
}    

function carregarImagens() {
    cabeca = new Image();
    cabeca.src = "cabeca.png";    
    
    bola = new Image();
    bola.src = "ponto.png"; 
    
    maca = new Image();
    maca.src = "verde.png"; 
}

function start () { 
	if ((count - 1) >= 0) { 
		count-- 
		tempo.innerText = count 
		setTimeout ( 'start ();',1000);  
	}
	if(tempo.innerText == '0' && finalmentecabamos != 15 && pontos != 1) { 
	noJogo = false
	c.fillStyle = "black"
	c.fillRect(0, 0, C_LARGURA,C_ALTURA)
	semtempoirmao()
	} 
} 

function criarCobra() {
    pontos = 7;
	
    for (var z = 0; z < pontos; z++) {
        x[z] = 50 - z * 10;
        y[z] = 50;
    }
}

function localizarMaca() {
    var r = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_x = r * TAMANHO_PONTO;

    r = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_y = r * TAMANHO_PONTO;
}    

function cicloDeJogo() {
    if (noJogo) {
        verificarMaca();
        verificarColisao();
        mover();
        fazerDesenho();
        setTimeout("cicloDeJogo()", ATRASO);
    }
}

function verificarMaca() {
    if ((x[0] == maca_x) && (y[0] == maca_y)) {
        pontos++;
        localizarMaca();
		sound.pause();
        sound.play();
    }
}    

function verificarColisao() {
    for (var z = pontos; z > 0; z--) {
        if ((z > 4) && (x[0] == x[z]) && (y[0] == y[z])) {
            noJogo = false;
        }
    }

    if (y[0] >= C_ALTURA) {
        noJogo = false;
    }

    if (y[0] < 0) {
       noJogo = false;
    }

    if (x[0] >= C_LARGURA) {
      noJogo = false;
    }

    if (x[0] < 0) {
      noJogo = false;
    }
}

function mover() {
    for (var z = pontos; z > 0; z--) {
        x[z] = x[z-1];
        y[z] = y[z-1];
    }

    if (paraEsquerda) {
        x[0] -= TAMANHO_PONTO;
    }

    if (paraDireita) {
        x[0] += TAMANHO_PONTO;
    }

    if (paraCima) {
        y[0] -= TAMANHO_PONTO;
    }

    if (paraBaixo) {
        y[0] += TAMANHO_PONTO;
    }
}    

function fazerDesenho() {
    c.clearRect(0, 0, C_LARGURA, C_ALTURA);
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
	
    if (noJogo) {
        c.drawImage(maca, maca_x, maca_y);
		
        for (var z = 0; z < pontos; z++) {
            if (z == 0) {
                c.drawImage(cabeca, x[z], y[z]);
            } else {
                c.drawImage(bola, x[z], y[z]);
            }
        }    
    } else {
        fimDeJogo();
    }        
}

function semtempoirmao() { 
	c.fillStyle = "white";
    c.textBaseline = "middle"; 
    c.textAlign = "center"; 
    c.font = "normal bold 38px cursive ";
    c.fillText("VOCE FOI ELIMINADO", C_LARGURA/2, C_ALTURA/3);
	
} 

function fimDeJogo() {
    c.fillStyle = "white";
    c.textBaseline = "middle"; 
    c.textAlign = "center"; 
    c.font = "normal bold 38px cursive ";
    c.fillText("VOCE FOI ELIMINADO", C_LARGURA/2, C_ALTURA/3);
	
}

onkeydown = function(e) {
    var tecla = e.keyCode;

    if ((tecla == TECLA_ESQUERDA) && (!paraDireita)) {
        paraEsquerda = true;
        paraCima = false;
        paraBaixo = false;
    }

    if ((tecla == TECLA_DIREITA) && (!paraEsquerda)) {
        paraDireita = true;
        paraCima = false;
        paraBaixo = false;
    }

    if ((tecla == TECLA_ACIMA) && (!paraBaixo)) {
        paraCima = true;
        paraDireita = false;
        paraEsquerda = false;
    }

    if ((tecla == TECLA_ABAIXO) && (!paraCima)) {
        paraBaixo = true;
        paraDireita = false;
        paraEsquerda = false;
    }        
};    
}

if (level == 2) { 
	var tela;
	var c;
	var matriz = new Array();
	for(i=0;i<600;i++)
		matriz[i]=new Array();
	
	for(i=0;i<600;i++)
		for(j=0;j<600;j++)
			matriz[i][j]=0;
		
		for(i=0;i<600;i++)
		for(j=0;j<600;j++)
			
	
	var cabeca;
	var maca;
	var maca2;
	var bola;
	var pontos;
	var maca_x =[] 
	var maca_y =[] 
	var obs_x =[] 
	var obs_y =[] 
	var count = new Number (); 
	var count = 50	
	var contadorVidas = 0
	var obs; 	
	var f = 0
	var p = 0 
	var finalmentecabamos = 0
	
	var paraEsquerda 
	var paraDireita 
	var paraCima 
	var paraBaixo 
	var k
	var noJogo = true;    
	
	const TAMANHO_PONTO = 10;
	const ALEATORIO_MAXIMO = 60;
	const ATRASO = 80;
	const C_ALTURA = 600;
	const C_LARGURA = 600;    
	
	const TECLA_ESQUERDA = 37;
	const TECLA_DIREITA = 39;
	const TECLA_ACIMA = 38;
	const TECLA_ABAIXO = 40;
	
	var x = [];
	var y = [];
	
	
	
	
	iniciar();
	
	// FunÃ§Ãµes
	
	function alet () { 
		k = Math.floor (Math.random() * 3 ) 
		if (k==0){ 
		paraEsquerda = true
		paraBaixo = false 
		paraCima = false 
		paraDireita = false 
	
		} 
		if (k==1){ 
		paraEsquerda = false 
		paraBaixo = true 
		paraCima = false 
		paraDireita = false 
		
		} 
		if (k==2){ 
		paraEsquerda = false
		paraBaixo = false 
		paraCima = true
		paraDireita = false 
	
		} 
		if (k==3){ 
		paraEsquerda = false 
		paraBaixo = false 
		paraCima = false 
		paraDireita = true
		
		} 
	} 
		
		
		
		
	
	function iniciar() {
		tela = document.getElementById("tela");
		c = tela.getContext("2d");
		c.fillStyle = "black";
		c.fillRect(0, 0, C_LARGURA, C_ALTURA);
		nivel2.play;
		carregarImagens();
		criarCobra();
		localizarMaca();
		localizarObs(); 
		alet(); 
		setTimeout("cicloDeJogo()", ATRASO);
	}    
	
	 
	
	function carregarImagens() {
		cabeca = new Image();
		cabeca.src = "cabeca.png";    
		
		bola = new Image();
		bola.src = "ponto.png"; 
		
		maca = new Image();
		maca.src = "verde.png";	
		
		obs = new Image(); 
		obs.src = "cinza.png" 
		
		
	
	}
	
	function start () { 
		if ((count - 1) >= 0) { 
			count-- 
			tempo.innerText = count 
			setTimeout ( 'start ();',1000);  
		}
		if(tempo.innerText == '0' && finalmentecabamos != 15 && pontos != 1) { 
		noJogo = false
		c.fillStyle = "black"
		c.fillRect(0, 0, C_LARGURA,C_ALTURA)
		semtempoirmao()
		} 
	} 
	
	function criarCobra() {
		pontos = 6;
		
		for (var z = 0; z < pontos; z++) {
			x[z] = 50 - z * 10;
			y[z] = 50;
		}
	}
	
	function localizarMaca() {
		 while (f<15){
		
		var v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		maca_x[f] = v * TAMANHO_PONTO	;
		v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		maca_y[f]= v * TAMANHO_PONTO  ;
		while(matriz[maca_x[f]][maca_y[f]] ==1){
			v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		maca_x[f] = v * TAMANHO_PONTO	;
		v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		maca_y[f] = v * TAMANHO_PONTO  ;
		}
			matriz[maca_x[f]][maca_y[f]]=1;
			f++
		}
	}  
	
	function localizarObs() {
		 while (p<10) { 
		  var c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		obs_x[p] = c * TAMANHO_PONTO	;
		c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		obs_y[p] = c * TAMANHO_PONTO  ;
		while(matriz[obs_x[p]][obs_y[p]] ==1){
			c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		obs_x[p] = c * TAMANHO_PONTO	;
		c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
		obs_y[p] = c * TAMANHO_PONTO  ;
		}
			matriz[obs_x[p]][obs_y[p]]=1; 
			p++
		}
	}		  
	
	function verificarColisao() {
	
		if (y[0] >= C_ALTURA) {
			y[0] = 0 
		}
	
		if (y[0] < 0) {
		   y[0] = C_ALTURA
		}
	
		if (x[0] >= C_LARGURA) {
		  x[0] = 0
		}
	
		if (x[0] < 0) {
		  x[0] = C_LARGURA
		}
	}
	
	function cicloDeJogo() {
		if (noJogo) {
			verificarMaca();
			verificarObs(); 
			verificarColisao();
			mover();
			fazerDesenho();
			nivel2.play();
			won();
			setTimeout("cicloDeJogo()", ATRASO);
			
			}
	}
	function verificarMaca() {
		for (f = 0; f<15; f++) {
			if ((x[0] == maca_x[f]) && (y[0] == maca_y[f])){  
				if(matriz[maca_x[f]][maca_y[f]]==1){
				contadorVidas++
				matriz[maca_x[f]][maca_y[f]]=0;
				finalmentecabamos++
				sound.pause();
  			    sound.play();
	
					if(contadorVidas == 3) {
					pontos++
					contadorVidas = 0
					console.log(pontos);
				}
				}
			}
		}
	}    
	
	function verificarObs() {
		for ( p = 0 ; p < 10 ; p++) { 
		if ((x[0] == obs_x[p]) && (y[0] == obs_y[p])) {
				if(matriz[obs_x[p]][obs_y[p]]==1){
			pontos--
			console.log(pontos) 
			matriz[obs_x[p]][obs_y[p]]=0;
		if (pontos == 1  ) { 
		noJogo = false 
		c.fillStyle = "black";
		c.fillRect(0, 0, C_LARGURA, C_ALTURA);
		
				} 
			} 
			}
		}
	}  
		
	function mover() {
		for (var z = pontos; z > 0; z--) {
			x[z] = x[z-1];
			y[z] = y[z-1];
		}
	
		if (paraEsquerda) {
			x[0] -= TAMANHO_PONTO;
		}
	
		if (paraDireita) {
			x[0] += TAMANHO_PONTO;
		}
	
		if (paraCima) {
			y[0] -= TAMANHO_PONTO;
		}
	
		if (paraBaixo) {
			y[0] += TAMANHO_PONTO;
		}
	}    
	
	function fazerDesenho() {
		c.clearRect(0, 0, C_LARGURA, C_ALTURA);
		c.fillRect(0, 0, C_LARGURA, C_ALTURA);
		
		if (noJogo) {
		
		for( f=0;f<15;f++){
					if(matriz[maca_x[f]][maca_y[f]] ==1 ) {
						c.drawImage(maca, maca_x[f] , maca_y[f]);			   
					}
				}
			
	
		for( p=0;p<10;p++){
			
					if(matriz[obs_x[p]][obs_y[p]]==1) {
						c.drawImage(obs, obs_x[p] , obs_y[p]);			   
					}
				}
	
		
			for (var z = 0; z < pontos; z++) {
				if (z == 0) {
					c.drawImage(cabeca, x[z], y[z]);
				} else {
					c.drawImage(bola, x[z], y[z]);
		   } 
		   }
		   }else { 
			
			fimDeJogo();		 
				
				}
			
			}    
		
	function won () { 
	
		if(finalmentecabamos == 15) {
		
		noJogo = false 
		c.fillStyle = "black";
		c.fillRect(0, 0, C_LARGURA, C_ALTURA);
		vencergame()
					}
	
	} 				
	
	function fimDeJogo() {
		c.fillStyle = "white";
		c.textBaseline = "middle"; 
		c.textAlign = "center"; 
		c.font = "normal bold 38px cursive ";
		c.fillText("VOCE FOI ELIMINADO", C_LARGURA/2, C_ALTURA/3);
		nivel2.pause()
    	nivel2.currentTime()
	}
	
	function vencergame() {
		c.fillStyle = "white";
		c.textBaseline = "middle"; 
		c.textAlign = "center"; 
		c.font = "normal bold 38px cursive ";
		c.fillText("PARABENS VOCE VENCEU ", C_LARGURA/2, C_ALTURA/3);
		nivel2.pause()
    	nivel2.currentTime()
	}
	
	function semtempoirmao() { 
		c.fillStyle = "white";
		c.textBaseline = "middle"; 
		c.textAlign = "center"; 
		c.font = "normal bold 38px cursive ";
		c.fillText("SEM TEMPO IRMAO ", C_LARGURA/2, C_ALTURA/3);
		nivel2.pause()
    	nivel2.currentTime()
	} 
	
	onkeydown = function(e) {
		var tecla = e.keyCode;
	
		if ((tecla == TECLA_ESQUERDA) && (!paraDireita)) {
			paraEsquerda = true;
			paraCima = false;
			paraBaixo = false;
		}
	
		if ((tecla == TECLA_DIREITA) && (!paraEsquerda)) {
			paraDireita = true;
			paraCima = false;
			paraBaixo = false;
		}
	
		if ((tecla == TECLA_ACIMA) && (!paraBaixo)) {
			paraCima = true;
			paraDireita = false;
			paraEsquerda = false;
		}
	
		if ((tecla == TECLA_ABAIXO) && (!paraCima)) {
			paraBaixo = true;
			paraDireita = false;
			paraEsquerda = false;
		}        
	}   
	
}

if (level == 3) {

var tela;
var c;
var matriz = new Array();
for(i=0;i<600;i++)
	matriz[i]=new Array();

for(i=0;i<600;i++)
	for(j=0;j<600;j++)
		matriz[i][j]=0;
	
	for(i=0;i<600;i++)
	for(j=0;j<600;j++)
		

var cabeca;
var maca = []
var bola;
var pontos;
var maca_x =[] 
var maca_y =[] 
var obs_x =[] 
var obs_y =[] 
var bar_x =[]
var bar_y =[] 
var bar 
var b = 0
var bar2_x =[] 
var bar2_y =[] 
var a = 0   
var velo = 0 
var lacorlozinha = 0;

var count = new Number (); 
var count = 50
var contadorVidas = 0
var obs; 	
var f = 0
var p = 0 
var finalmentecabamos = 0
var tempoR = 0 
var pontinhos = 0


var paraEsquerda 
var paraDireita 
var paraCima 
var paraBaixo 
var k
var noJogo = true;    
var wp = 100
var pw = 100

const TAMANHO_PONTO = 10;
const ALEATORIO_MAXIMO = 60;
var ATRASO2 = 80;
const C_ALTURA = 600;
const C_LARGURA = 600;    

const TECLA_ESQUERDA = 37;
const TECLA_DIREITA = 39;
const TECLA_ACIMA = 38;
const TECLA_ABAIXO = 40;

var x = [];
var y = [];




iniciar();

// FunÃ§Ãµes

function alet () { 
	k = Math.floor (Math.random() * 3 ) 
	if (k==0){ 
	paraEsquerda = true
	paraBaixo = false 
	paraCima = false 
	paraDireita = false 

	} 
	if (k==1){ 
	paraEsquerda = false 
	paraBaixo = true 
	paraCima = false 
	paraDireita = false 
	
	} 
	if (k==2){ 
	paraEsquerda = false
	paraBaixo = false 
	paraCima = true
	paraDireita = false 

	} 
	if (k==3){ 
	paraEsquerda = false 
	paraBaixo = false 
	paraCima = false 
	paraDireita = true
	
	} 
} 
	
	
	


function iniciar() {
    tela = document.getElementById("tela");
    c = tela.getContext("2d");
	c.fillStyle = "black";
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
    carregarImagens();
	nivel3.play();
    criarCobra();
    localizarMaca();
	localizarObs(); 
	localizarBar();
	localizarBar2();
	alet(); 
    setTimeout("cicloDeJogo()", ATRASO2);
}    

 

function carregarImagens() {
    cabeca = new Image();
    cabeca.src = "cabeca.png";    
    
    bola = new Image();
    bola.src = "ponto.png"; 
    
    for(var t = 0; t < 15; t++) {
		if(t%3 == 0 && t<10) {
			maca[t] = new Image();
			maca[t].src = "ponto.png";
		} else if(t%2 == 0 && t < 9) {
			maca[t] = new Image();
			maca[t].src = "verde.png";
		} else if(t<5) {
			maca[t] = new Image();
			maca[t].src = "roxo.png";
		} else if(t%2 == 0 || t!= 14) {
			maca[t] = new Image();
			maca[t].src = "rosa.png";
		} else if(t < 10) {
			maca[t] = new Image();
			maca[t].src = "amarelo.png";
		} else {
			maca[t] = new Image();
			maca[t].src = "azul.png";
		}
	}	
	
	obs = new Image(); 
	obs.src = "cinza.png" 
	
	bar = new Image(); 
	bar.src = "cinza.png" 

}


function start () { 
	if ((count - 1) >= 0) { 
		count-- 
		tempo.innerText = count 
		setTimeout ( 'start ();',1000);  
	}
	if(count == '0' && finalmentecabamos != 15 && pontos != 1) { 
	noJogo = false
	c.fillStyle = "black"
	c.fillRect(0, 0, C_LARGURA,C_ALTURA)
	semtempoirmao()
	} 
} 

function criarCobra() {
    pontos = 6;
	
    for (var z = 0; z < pontos; z++) {
        x[z] = 50 - z * 10;
        y[z] = 50;
    }
}

function localizarMaca() {
 	while (f<15){
	
	var v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_x[f] = v * TAMANHO_PONTO	;
    v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_y[f]= v * TAMANHO_PONTO  ;
	while(matriz[maca_x[f]][maca_y[f]] ==1){
	    v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_x[f] = v * TAMANHO_PONTO	;
    v = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    maca_y[f] = v * TAMANHO_PONTO  ;
	}
		matriz[maca_x[f]][maca_y[f]]=1;
		f++
	}
}  

function localizarObs() {
 	while (p<10) { 
	  var c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    obs_x[p] = c * TAMANHO_PONTO	;
    c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    obs_y[p] = c * TAMANHO_PONTO  ;
	while(matriz[obs_x[p]][obs_y[p]] ==1){
	    c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    obs_x[p] = c * TAMANHO_PONTO	;
    c = Math.floor(Math.random() * ALEATORIO_MAXIMO);
    obs_y[p] = c * TAMANHO_PONTO  ;
	}
		matriz[obs_x[p]][obs_y[p]]=1; 
		p++
	}
}		  

function localizarBar() {
 	while (b<300) { 
	  bar_x[b] = 150 
		bar_y[b] = wp 
		while (matriz[bar_x[b]][bar_y[b]] == 1) {
		bar_x[b] = 150 
		bar_y[b] = wp
		}
		matriz[bar_x[b]][bar_y[b]] =1
		wp++ 
		b++ 
   } 
}	
	  

function localizarBar2() {
 	while (a<300) { 
	  bar2_x[a] = 450
		bar2_y[a] = pw 
		while (matriz[bar2_x[a]][bar2_y[a]] == 1) {
		bar2_x[a] = 450
		bar2_y[a] = pw
		}
		matriz[bar2_x[a]][bar2_y[a]] =1
		pw++ 
		a++ 	
   } 
}		  

function verificarColisao() {

    if (y[0] >= C_ALTURA) {
        y[0] = 0 
    }

    if (y[0] < 0) {
       y[0] = C_ALTURA
    }

    if (x[0] >= C_LARGURA) {
      x[0] = 0
    }

    if (x[0] < 0) {
      x[0] = C_LARGURA
    }
}

function cicloDeJogo() {
    if (noJogo) {
        verificarMaca();
		verificarObs(); 
		verificarBar(); 
		verificarBar2();
		verificarColisao();
		nivel3.play()
        mover();
        fazerDesenho();
        won();
		setTimeout("cicloDeJogo()", ATRASO2);
		
		}
}
function verificarMaca() {
	for (f = 0; f<15; f++) {
		if ((x[0] == maca_x[f]) && (y[0] == maca_y[f])){  
			if(matriz[maca_x[f]][maca_y[f]]==1){
			contadorVidas++
			ATRASO2 -= 3
			matriz[maca_x[f]][maca_y[f]]=0;
			pontinhos = pontinhos + 10
			finalmentecabamos++
			sound.pause();
        	sound.play();
				if(contadorVidas == 3) {
				pontos++
				contadorVidas = 0
			}
			}
		}
    }
}    

function verificarObs() {
	for ( p = 0 ; p < 10 ; p++) { 
    if ((x[0] == obs_x[p]) && (y[0] == obs_y[p])) {
			if(matriz[obs_x[p]][obs_y[p]]==1){
        pontos--
		console.log(pontos) 
		matriz[obs_x[p]][obs_y[p]]=0;
	if (pontos == 1  ) { 
	noJogo = false 
	c.fillStyle = "black";
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
	
			} 
		} 
		}
    }
}  

function verificarBar() { 
	for ( b = 0 ; b < 300 ; b++) { 
    if ((x[0] == bar_x[b]) && (y[0] == bar_y[b])) {
			if(matriz[bar_x[b]][bar_y[b]]==1){
				noJogo = false 
				c.fillStyle = "black";
				c.fillRect(0, 0, C_LARGURA, C_ALTURA);
			} 
		}
	}
}

function verificarBar2() { 
	for ( a = 0 ; a < 300 ; a++) { 
    if ((x[0] == bar2_x[a]) && (y[0] == bar2_y[a])) {
			if(matriz[bar2_x[a]][bar2_y[a]]==1){
				noJogo = false 
				c.fillStyle = "black";
				c.fillRect(0, 0, C_LARGURA, C_ALTURA);
			} 
		}
	}
}


function mover() {
    for (var z = pontos; z > 0; z--) {
        x[z] = x[z-1];
        y[z] = y[z-1];
    }

    if (paraEsquerda) {
        x[0] -= TAMANHO_PONTO;
    }

    if (paraDireita) {
        x[0] += TAMANHO_PONTO;
    }

    if (paraCima) {
        y[0] -= TAMANHO_PONTO;
    }

    if (paraBaixo) {
        y[0] += TAMANHO_PONTO;
    }
}    

function fazerDesenho() {
    c.clearRect(0, 0, C_LARGURA, C_ALTURA);
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
	
    if (noJogo) {
	
	for( f=0;f<15;f++){
				if(matriz[maca_x[f]][maca_y[f]] ==1 ) {
					c.drawImage(maca[f], maca_x[f] , maca_y[f]);			   
				}
			}
		

	for( p=0;p<10;p++){
		
				if(matriz[obs_x[p]][obs_y[p]]==1) {
					c.drawImage(obs, obs_x[p] , obs_y[p]);			   
				}
			}
			
	for( b=0;b<295;b++){
				if(matriz[bar_x[b]][bar_y[b]] ==1 ) {
					c.drawImage(bar, bar_x[b] , bar_y[b]);  
				}
			}
			
	for( a=0;a<295;a++){
				if(matriz[bar2_x[a]][bar2_y[a]] ==1 ) {
					c.drawImage(bar, bar2_x[a] , bar2_y[a]);  
				}
			}
			
        for (var z = 0; z < pontos; z++) {
            if (z == 0) {
                c.drawImage(cabeca, x[z], y[z]);
            } else {
				if(finalmentecabamos >= 0) {
					for(var t = 0; t < 15; t++) {
						if((x[0] == maca_x[t]) && (y[0] == maca_y[t])) {
							if(matriz[maca_x[t]][maca_y[t]] == 1) {
								lacorlozinha = t
							}
						}
					}
					if(lacorlozinha%3 == 0 && lacorlozinha<10) {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					} else if(lacorlozinha%2 == 0 && lacorlozinha < 9) {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					} else if(lacorlozinha<5) {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					} else if(lacorlozinha%2 == 0 || t!= 14) {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					} else if(lacorlozinha < 10) {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					} else {
						c.drawImage(maca[lacorlozinha], x[z], y[z])
					}
				} else {		
					c.drawImage(bola, x[z], y[z]);
				} 
			}
		}
	} else { 
		
		fimDeJogo();		 
            
	}
        
}    
    
function won () { 

	if(finalmentecabamos == 15) {
	
	tempoR = count
	noJogo = false 
	c.fillStyle = "black";
	c.fillRect(0, 0, C_LARGURA, C_ALTURA);
	vencergame()
	
	
	}
} 
	

function fimDeJogo() {
    c.fillStyle = "white";
    c.textBaseline = "middle"; 
    c.textAlign = "center"; 
    c.font = "normal bold 38px cursive ";
    c.fillText("VOCE FOI ELIMIDADO", C_LARGURA/2, C_ALTURA/3);
	rank(); 
	nivel3.pause();
    nivel3.currentTime();
}

function vencergame() {
    c.fillStyle = "white";
    c.textBaseline = "middle"; 
    c.textAlign = "center"; 
    c.font = "normal bold 38px cursive ";
    c.fillText("PARABENS VOCE VENCEU ", C_LARGURA/2, C_ALTURA/3);
	rank(); 
	nivel3.pause();
    nivel3.currentTime();
 
}

function semtempoirmao() { 
	c.fillStyle = "white";
    c.textBaseline = "middle"; 
    c.textAlign = "center"; 
    c.font = "normal bold 38px cursive ";
    c.fillText("VOCE FOI ELIMIDADO", C_LARGURA/2, C_ALTURA/3);
	nivel3.pause();
    nivel3.currentTime();
} 

onkeydown = function(e) {
    var tecla = e.keyCode;

    if ((tecla == TECLA_ESQUERDA) && (!paraDireita)) {
        paraEsquerda = true;
        paraCima = false;
        paraBaixo = false;
    }

    if ((tecla == TECLA_DIREITA) && (!paraEsquerda)) {
        paraDireita = true;
        paraCima = false;
        paraBaixo = false;
    }

    if ((tecla == TECLA_ACIMA) && (!paraBaixo)) {
        paraCima = true;
        paraDireita = false;
        paraEsquerda = false;
    }

    if ((tecla == TECLA_ABAIXO) && (!paraCima)) {
        paraBaixo = true;
        paraDireita = false;
        paraEsquerda = false;
    }        
}   

function rank() {
    document.write("<h1> Ranking </h1>")
    var rank = JSON.parse(localStorage.getItem("rank")) || [];

    rank[rank.length] = {
        jogador : prompt("Diga seu nome"),
        ponto : pontinhos
    }
    rank = selection(rank);
    localStorage.setItem("rank", JSON.stringify(rank))
    for (var j = 0; j < rank.length; j++) {
        document.write (rank[j].jogador + " _ " + 
        rank[j].ponto + "<hr>")
    }

}

function selection(vetor) {
    for(var f = 0; f<vetor.length;f++){
    var menorx = vetor[f].ponto;
    var pos = f;
    var aux = 0;
    for(var i = f; i < vetor.length; i++) {
        if(vetor[i].ponto > menorx) {
            menorx = vetor[i].ponto;
            pos = i;
        }
    }
    aux = vetor[f].ponto;
    vetor[f].ponto = vetor[pos].ponto;
    vetor[pos].ponto = aux;
    var auf = vetor[f].jogador;
    vetor[f].jogador = vetor[pos].jogador;
    vetor[pos].jogador = auf;
    }
    return vetor;
}
	
// para limpar os nomes do rank
// localStorage.removeItem("rank");
// 985311011 patrick's number
}
</script>


 



